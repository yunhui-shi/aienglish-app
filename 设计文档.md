好的，下面是详细的前端设计文档，涵盖了整个“英语长句理解训练系统”练习模块的实现细节，包括页面布局、功能模块、交互设计、API 接口、状态管理等内容。

---

# 🎯 前端设计文档 — 英语长句理解训练系统

## 1. 项目概述

本系统旨在通过精读长句训练，帮助用户提升词汇理解、语法识别和翻译能力。用户通过做题，逐步掌握复杂句型的结构与语义，强化对英语句子的理解。系统主要由练习页面、错题集、拓展训练等模块构成。

## 2. 页面结构与功能模块

### 2.1 `/practice` 页面：练习页面

#### 2.1.1 功能描述

用户在该页面进行长句练习，系统提供两种子题：

* **词语选择题（word\_choice）**：用户选择句子中的正确词汇。
* **翻译选择题（sentence\_translation）**：用户选择最符合句子意思的翻译。

#### 2.1.2 页面布局与交互

1. **页面顶部**

   * 显示当前主题、难度选择框，用户可以在题目开始前或答题中切换主题或难度。
   * 切换时会触发后台请求，获取新的题目。

2. **题目区域**

   * 展示练习句子（从后端获取）。
   * 用户根据句子做出选择，选择后提交并展示正误。

3. **子题区域**

   * 第一部分是词语选择题，显示 4 个选项，用户选择其中一个。
   * 第二部分是翻译选择题，显示 4 个翻译选项，用户选择其中一个。

4. **答案解析区域**

   * 在用户提交答案后，展示详细解析，包括：词汇解释、语法点解释、翻译解析。
   * 如果用户答错，展示正确答案并提供相关的学习资源。

5. **题目导航**

   * 通过“下一题”按钮切换到下一题，系统自动记住当前题目和答案状态，刷新时保持状态。

#### 2.1.3 状态管理与交互

使用 **React Context** 或 **Zustand** 来管理当前的题目、选择状态、提交状态以及历史记录。

* **当前题目**：保存当前显示的题目内容。
* **用户选择的答案**：保存用户的选择，在提交时与正确答案进行对比。
* **题目状态**：保存用户是否已完成当前题目（包括词语选择和翻译选择）。

### 2.2 `/vocab` 页面：生词本

#### 2.2.1 功能描述

展示用户标记的生词，并提供查询功能，帮助用户进一步学习生词。

#### 2.2.2 页面布局与交互

* **单词列表**：展示所有生词，包括词汇、释义、例句等。
* **点击查询**：用户点击词汇时，弹出一个模态框，显示详细的词汇释义和使用例句。
* **生词管理**：用户可以标记“已掌握”或“需要复习”，并分类查看生词。

### 2.3 `/mistakes` 页面：错题集

#### 2.3.1 功能描述

自动记录用户答错的题目，便于后续复习和练习。

#### 2.3.2 页面布局与交互

* **错题列表**：显示用户答错的题目，包括原题、答错的选项、正确答案以及详细解析。
* **分类浏览**：错题按语法点分类（如虚拟语气、定语从句等），便于用户针对性地复习。

### 2.4 `/review` 页面：拓展练习

#### 2.4.1 功能描述

根据用户的错题集，系统自动生成两组新的拓展题，帮助用户加强对类似语法点的掌握。

#### 2.4.2 页面布局与交互

* **拓展题列表**：根据错题的语法点自动生成相关练习题。
* **练习内容**：与主练习页面相同，提供词语选择题和翻译选择题。
* **错题导航**：每道题下方有“再练一次”按钮，点击后跳转到相应的错题页面。
                                                   |

### 3.2 前端与后端交互流程

#### 3.2.1 页面初始化

用户进入 `/practice` 页面后，前端向 `/cache/initialize` 发送 POST 请求，初始化缓存。

```bash
POST /cache/initialize
Authorization: Bearer {token}
```

#### 3.2.2 获取新题目

用户开始做题时，前端向 `/set/new` 发送 GET 请求，获取一题。

```bash
GET /set/new?topic=grammar&difficulty=medium
Authorization: Bearer {token}
```

#### 3.2.3 提交答案

用户提交答案后，前端向 `/set/submit` 发送 POST 请求，提交答案。

```bash
POST /set/submit
Authorization: Bearer {token}
Content-Type: application/json

[
  {
    "question_id": "G001",
    "selected_answer": "be",
    "answered_at": "2025-06-01T12:00:00",
    "question_type": "word_choice"
  },
  {
    "question_id": "G001",
    "selected_answer": "尽管委员会已经讨论了三个小时...",
    "answered_at": "2025-06-01T12:00:00",
    "question_type": "sentence_translation"
  }
]
```

#### 3.2.4 获取错题历史

用户查看错题记录时，前端向 `/history` 发送 GET 请求获取错题历史。

```bash
GET /history?limit=10&offset=0
Authorization: Bearer {token}
```

---

## 4. 设计和实现细节

### 4.1 动效设计

使用 **Framer Motion** 实现页面加载动画、选项点击动画以及页面切换效果：

* **页面加载**：淡入效果。
* **选项点击**：选项轻微缩放，点击时高亮显示。
* **按钮点击**：按钮点击时增加动画效果，提升交互体验。

### 4.2 响应式设计

页面在移动端、平板和桌面端都能够良好显示。通过 **Tailwind CSS** 实现响应式布局，确保各设备下用户体验一致。

### 4.3 用户界面设计

页面的视觉风格采用“明亮温柔”设计，背景采用渐变色（象牙白、淡蓝、淡紫），按钮颜色与选项呈现柔和的渐变效果，强调清晰、简洁和易用。

---

## 5. 总结

本前端设计文档详细描述了“英语长句理解训练系统”的主要页面结构、交互设计和功能实现。通过良好的页面布局、清晰的功能模块、流畅的交互设计以及响应式布局，用户将在系统中获得更加流畅和富有互动性的学习体验。
